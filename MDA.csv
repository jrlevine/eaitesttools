Test ID,Summary,Description,Action,Expected Result,Classification,Phase,References
EAI-MDA-001,Trace information includes domain in U-label form,"If the software adds a “Received” header to a message transmitted to an SMTPUTF8-capable server indicating the return path of the message, it should encode the domain of the host on which the server is running in U-label form.",Submit EAI message for delivery and inspect received message and inspect delivered message,Message includes “Received” header indicating EAI protocol,Advisory,1,RFC 6531
EAI-MDA-002,Trace information indicates SMTPUTF8 protocol,"If the software adds a “Received” header indicating the protocol used for transfer, it should be one of UTF8SMTP, UTF8SMTPS, UTF8SMTPA, or UTF8SMTPSA. This protocol is placed in the “with” position of the “Received” header value.",Submit EAI message for delivery and inspect received message and inspect delivered message,Message includes “Received” header indicating EAI protocol,Advisory,1,RFC 6531
EAI-MDA-003,Message with EAI address in originator header is delivered,"The software must be able to deliver messages with EAI values in originator header. This applies to the “From” and “Reply-To” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Submit message with originator header <Email> for delivery,Message is delivered to mailbox,Required,1,"RFC 6531, UASG 007, UASG 012"
EAI-MDA-004,Message with EAI address in destination address header is delivered,"The software must be able to deliver messages with EAI values in destination address headers. This applies to the “To”, “Cc”, and “Bcc” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Submit message with destination address header <Email> for delivery,Message is delivered to mailbox,Required,1,"RFC 6531, UASG 007, UASG 012"
EAI-MDA-005,Message with Unicode value in unstructured header is delivered,"The software must be able to deliver messages with Unicode values in unstructured text headers. For this test case, the “Subject” header is used as an indicative example, and header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Submit message with “Subject” <Unicode> for delivery,Message is delivered to mailbox,Required,1,"RFC 6531, UASG 007, UASG 012"
EAI-MDA-006,Message is delivered to EAI address,"The software must be able to deliver messages to the mailbox for an EAI address. Note that this is distinct from whether EAI messages can be delivered to a non-EAI local account. For this test case, the <Email> Use Case should be used as the local address to which the message is delivered. There is likely to be overlap between this test case and those that test whether messages with EAI destination addresses are correctly handled, but for this test case the message itself doesn’t need be an EAI message, just the recipient address (which is not necessarily the same as a message’s destination address).",Submit message for delivery to address <Email>,Message is delivered to mailbox,Required,2,"RFC 6531, UASG 007, UASG 012"
EAI-MDA-007,Unicode username is accepted via IMAP,"If the software supports IMAP, then clients must be able to use a username containing Unicode text when authenticating to the server.",Authenticate to server with username <Unicode> via IMAP,Authentication is successful,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-008,IMAP UTF8=ACCEPT or UTF8=ONLY capability is advertised,"If the software supports IMAP, then when a client requests a listing of server capabilities with the CAPABILITY command, the listing returned by the server responds must include either UTF8=ACCEPT or UTF8=ONLY.",Establish connection (using CAPABILITY command) and inspect traffic sent to client,Response to command is OK and listing includes UTF8=ACCEPT or UTF8=ONLY,Required,1,RFC 6855
EAI-MDA-009,IMAP AUTHENTICATE command is supported,"If the software supports IMAP, it must support the AUTHENTICATE command for login, since it already allows Unicode username values (in contract to LOGIN, which does not).",Establish connection (using AUTHENTICATE command) with <Unicode> username,Response to command is OK and login is successful,Required,1,RFC 6855
EAI-MDA-010,IMAP ENABLE UTF8=ACCEPT command is accepted,"If the software supports IMAP, it must accept requests for the UTF8=ACCEPT extension, enable the extension as a result, and communicate that result to the client with an ENABLED message and OK response.",Establish EAI connection (using ENABLE UTF8=ACCEPT command) and inspect traffic sent to client,Response to command is OK and listing includes ENABLED UTF8=ACCEPT,Required,1,RFC 6855
EAI-MDA-011,IMAP SEARCH command with CHARSET specification is rejected,"If the software supports IMAP, then once EAI extensions have been enabled, any SEARCH command that specifies a character set with the CHARSET argument should be rejected and a BAD response should be sent to the client.",Execute search (using SEARCH command) and inspect traffic sent to client,Response to command is BAD,Advisory,1,RFC 6855
EAI-MDA-012,IMAP APPEND UTF8 command is accepted,"If the software supports IMAP, then once EAI extensions have been enabled, any APPEND UTF8 command that includes Unicode in any headers of the accompanying message literal should be accepted. This applies equally when the client uses the CATENATE extension.",Add message with “Subject” <Unicode> to mailbox (using  APPEND UTF8 command) and inspect traffic sent to client,Response to command is OK,Required,1,RFC 6855
EAI-MDA-013,IMAP APPEND UTF8 preserves Unicode header values,"If the software supports IMAP, then once EAI extensions have been enabled, EAI messages added to a mailbox with the APPEND command should be preserved, including Unicode message headers. This test ensures that the message can be “round-tripped” from the client to the server and back again without corruption of Unicode header values. The precise command or commands used to retrieve the message are unimportant (for example, FETCH, RFC822, FULL, and others can be used to retrieve a message).",Retrieve message with “Subject” <Unicode> previously added by APPEND UTF8,Response to command is OK and message subject is <Unicode>,Required,1,RFC 6855
EAI-MDA-014,IMAP CREATE command with Unicode mailbox name is accepted,"If the software supports IMAP, then once EAI extensions have been enabled, CREATE commands with Unicode mailbox name arguments should be accepted.",Create mailbox <Unicode> (using CREATE command) and inspect traffic sent to client,Response to command is OK,Required,2,RFC 6855
EAI-MDA-015,IMAP SELECT command with Unicode mailbox name is accepted,"If the software supports IMAP, then once EAI extensions have been enabled, SELECT commands with Unicode mailbox name arguments should be accepted. For this test, a mailbox with a Unicode name should exist on the server.",Open mailbox <Unicode> (using SELECT command) and inspect traffic sent to client,Response to command is OK,Required,2,RFC 6855
EAI-MDA-016,IMAP EXAMINE command with Unicode mailbox name is accepted,"If the software supports IMAP, then once EAI extensions have been enabled, EXAMINE commands with Unicode mailbox name arguments should be accepted. For this test, a mailbox with a Unicode name should exist on the server.",Inspect mailbox <Unicode> (using EXAMINE command) and inspect traffic sent to client,Response to command is OK,Required,2,RFC 6855
EAI-MDA-017,IMAP SUBSCRIBE command with Unicode mailbox name is accepted,"If the software supports IMAP, then once EAI extensions have been enabled, SUBSCRIBE commands Unicode mailbox name arguments should be accepted. For this test, a mailbox with a Unicode name should exist on the server.",Subscribe to mailbox <Unicode> (using SUBSCRIBE command) and inspect traffic sent to client,Response to command is OK,Required,2,RFC 6855
EAI-MDA-018,IMAP LIST response includes Unicode mailbox name,"If the software supports IMAP, then once EAI extensions have been enabled, responses to LIST commands should include Unicode mailbox names. For this test, a mailbox with a Unicode name should exist on the server.",List mailboxes (using LIST command) and inspect traffic sent to client,Response to command is OK and listing includes <Unicode>,Advisory,2,RFC 6855
EAI-MDA-019,IMAP LSUB response includes Unicode mailbox names,"If the software supports IMAP, then once EAI extensions have been enabled, responses to LSUB commands should include Unicode mailbox names. For this test, a mailbox with a Unicode name should exist on the server and the client’s subscription list (as specified by SUBSCRIBE) must include the mailbox.",List mailbox subscriptions (using LSUB command) and inspect traffic sent to client,Response to command is OK and listing includes <Unicode>,Advisory,2,RFC 6855
EAI-MDA-020,Mailbox with Unicode name can be created via IMAP,"If the software supports IMAP and allows clients to create new mailboxes, then it must allow mailbox names to specified as Unicode.",Create mailbox <Unicode> via IMAP,Mailbox is created,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-021,Mailbox with Unicode name can be subscribed via IMAP,"If the software supports IMAP, then clients must be able to subscribe to mailboxes with Unicode mailbox names. For this test, a mailbox with a Unicode name must be present on the server.",Subscribe to mailbox <Unicode> via IMAP,Subscription is successful,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-022,Messages in mailbox with Unicode name are accessible via IMAP,"If the software supports IMAP, then clients must be able to read the contents of mailboxes with Unicode mailbox names. For this test, a mailbox with a Unicode name must be present on the server.",Open mailbox <Unicode> via IMAP,Mailbox contents are accessible,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-023,Message with EAI address in originator header can be stored via IMAP,"If the software supports IMAP, then clients must be able to store messages with EAI values in originator headers. This applies to the “From” and “Reply-To” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Store message with originator header <Email> via IMAP,Message is stored,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-024,Message with EAI address in destination address header can be stored via IMAP,"If the software supports IMAP, then clients must be able to store messages with EAI values in destination address headers. This applies to the “To”, “Cc”, and “Bcc” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Store message with destination address header <Email> via IMAP,Message is stored,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-025,Message with Unicode value in unstructured header can be stored via IMAP,"If the software supports IMAP, then clients must be able to store messages with Unicode values in unstructured text headers. For this test case, the “Subject” header is used as an indicative example, and the header value must a Unicode string (without ASCII-encoding, such as by quoted-words).",Store message with “Subject” <Unicode> via IMAP,Message is stored,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-026,Message with EAI address in originator header is accessible via IMAP,"If the software supports IMAP, then clients must be able to access messages with EAI values in originator headers. This applies to the “From” and “Reply-To” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Access message with originator header <Email> via IMAP,Message is accessible,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-027,Message with EAI address in destination address header is accessible via IMAP,"If the software supports IMAP, then clients must be able to access messages with EAI values in destination address headers. This applies to the “To”, “Cc”, and “Bcc” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Access message with destination address header <Email> via IMAP,Message is accessible,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-028,Message with Unicode value in unstructured header is accessible via IMAP,"If the software supports IMAP, then clients must be able to access messages with Unicode values in unstructured text headers. For this test case, the “Subject” header is used as an indicative example, and the header value must a Unicode string (without ASCII-encoding, such as by quoted-words).",Access message with “Subject” <Unicode> via IMAP,Message is accessible,Required,2,"RFC 6855, UASG 007, UASG 012"
EAI-MDA-029,POP UTF8 USER capability is advertised,"If the software supports POP, then when a client requests a listing of server capabilities with the CAPA command, the listing returned by the server responds must include UTF8 USER.",Establish POP connection (using CAPA command) and inspect traffic sent to client,Response to command is +OK and listing includes UTF8 USER,Required,1,RFC 6856
EAI-MDA-030,POP UTF8 command is accepted,"If the software supports POP, it should accept the UTF8 command and switch the active session to UTF-8 mode.",Establish EAI POP connection (using UTF8 command) and inspect traffic sent to client,Response to command is +OK,Required,1,RFC 6856
EAI-MDA-031,POP UTF8 USER command is accepted,"If the software supports POP, it should accept the UTF8 USER command and switch the active session to UTF-8 mode.",Establish EAI POP connection (using UTF8 USER command) and inspect traffic sent to client,Response to command is +OK,Required,1,RFC 6856
EAI-MDA-032,POP LANG capability is advertised,"If the software supports POP, then when a client requests a listing of server capabilities with the CAPA command, the listing returned by the server responds should include LANG.",Establish POP connection (using CAPA command) and inspect traffic sent to client,Response to command is +OK and listing includes LANG,Required,1,RFC 6856
EAI-MDA-033,POP LANG command is accepted,"If the software supports POP, it should accept the LANG command and activate the requested language in the session. Because the set of supported differs between applications, this test case should use a language that is known to be supported by the software so that an -OK response can be expected (since an -ERR response may indicate that the language was not supported, but may also indicate that the command was not understood).",Establish EAI POP connection (using LANG command) and inspect traffic sent to client,Response to command is +OK,Required,1,RFC 6856
EAI-MDA-034,POP STLS command is rejected in UTF8 mode,"If the software supports POP, it should reject any SLTS command after UTF8 mode is enabled (with the UTF8 command).",Establish EAI POP connection (using UTF8 and STLS commands) and inspect traffic sent to client,Response to command is -ERR,Advisory,1,RFC 6856
EAI-MDA-035,POP LIST command reports size of Unicode message as octet count,"If the software supports POP, when reporting the size of a message containing Unicode values, the size (as indicated by the LIST command) must be given as a count of octets or 8-bit bytes, as opposed to a count of characters in the message. For ASCII-only messages these values will be the same, but for Unicode messages containing multibyte characters these will be different and the former must be used. For this test, a message with a Unicode value in the “Subject” header is used as an example of a message containing Unicode.",List message with “Subject” <Unicode> (using POP LIST command) and inspect traffic sent to client,Response to command is +OK and size of message is reported as octet count,Required,1,RFC 6856
EAI-MDA-036,Unicode username is accepted via POP,"If the software supports POP, then clients must be able to use a username containing Unicode text when authenticating to the server.",Authenticate to server with username <Unicode> via POP,Authentication is successful,Required,2,"UASG 007, UASG 012"
EAI-MDA-037,Message with Unicode value in originator header is accessible via POP,"If the software supports POP, then clients must be able to access messages with EAI values in originator header. This applies to the “From” and “Reply-To” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Access message with originator header <Email> via POP,Message is accessible,Required,2,"UASG 007, UASG 012"
EAI-MDA-038,Message with Unicode value in destination address header is accessible via POP,"If the software supports POP, then clients must be able to access messages with EAI values in destination address headers. This applies to the “To”, “Cc”, and “Bcc” headers. For this test case, the header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Access message with destination address header <Email> via POP,Message is accessible,Required,2,"UASG 007, UASG 012"
EAI-MDA-039,Message with Unicode value in unstructured header is accessible via POP,"If the software supports POP, then clients must be able to access messages with Unicode values in unstructured text headers. For this test case, the “Subject” header is used as an indicative example, and header values should be Unicode strings rather than in an ASCII encoding such as quoted-words.",Access message with “Subject” <Unicode> via POP,Message is accessible,Required,2,"UASG 007, UASG 012"
